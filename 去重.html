<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÂæÆ‰ø°Êé•ÈæôÂéªÈáçÂàÜÁ±ªÂ∑•ÂÖ∑</title>
    <style>
        /* Âü∫Á°ÄÊ†∑Âºè‰øùÊåÅ‰∏çÂèò */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
        }
        
        body {
            background-color: #f5f5f5;
            color: #333;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        
        header {
            background-color: white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 50;
            transition: all 0.3s ease;
            padding: 15px 20px;
        }
        
        .header-container {
            max-width: 800px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 1.2rem;
            font-weight: bold;
            color: #165DFF;
        }
        
        nav ul {
            display: flex;
            gap: 20px;
            list-style: none;
        }
        
        nav a {
            color: #666;
            text-decoration: none;
            transition: color 0.3s ease;
        }
        
        nav a:hover {
            color: #165DFF;
        }
        
        main {
            flex: 1;
            max-width: 800px;
            margin: 20px auto;
            padding: 0 20px;
        }
        
        .card {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .card h2 {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: #333;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .classification-options {
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .classification-options label {
            font-weight: 500;
            color: #555;
        }
        
        select {
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            background-color: white;
            flex: 0 0 150px;
        }
        
        .file-upload {
            margin-bottom: 25px;
        }
        
        .file-upload label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #555;
        }
        
        .drop-area {
            border: 2px dashed #ddd;
            border-radius: 6px;
            padding: 30px;
            text-align: center;
            transition: all 0.3s ease;
        }
        
        .drop-area:hover {
            border-color: #165DFF;
            background-color: #f0f7ff;
        }
        
        .upload-icon {
            font-size: 40px;
            color: #999;
            margin-bottom: 10px;
        }
        
        .file-info {
            color: #777;
            font-size: 0.85rem;
            margin-top: 10px;
        }
        
        .upload-text {
            color: #666;
            margin-bottom: 10px;
        }
        
        .upload-btn {
            color: #165DFF;
            cursor: pointer;
            font-weight: 500;
        }
        
        .text-input-area {
            margin-bottom: 20px;
        }
        
        .text-input-area label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #555;
        }
        
        textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            min-height: 180px;
            resize: vertical;
            font-size: 1rem;
            transition: border-color 0.3s ease, box-shadow 0.3s ease;
        }
        
        textarea:focus {
            border-color: #165DFF;
            box-shadow: 0 0 0 2px rgba(22, 93, 255, 0.1);
            outline: none;
        }
        
        .char-count {
            color: #777;
            font-size: 0.85rem;
            text-align: right;
            margin-top: 5px;
        }
        
        .btn-group {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        button {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 6px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
        }
        
        .process-btn {
            background-color: #165DFF;
            color: white;
        }
        
        .process-btn:hover {
            background-color: #0E4CD1;
        }
        
        .clear-btn {
            background-color: #f0f0f0;
            color: #555;
        }
        
        .clear-btn:hover {
            background-color: #e0e0e0;
        }
        
        .copy-btn {
            background-color: #36D399;
            color: white;
        }
        
        .copy-btn:hover {
            background-color: #2CB887;
        }
        
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .stat-item {
            background-color: #f9f9f9;
            padding: 15px;
            border-radius: 6px;
            border: 1px solid #eee;
        }
        
        .stat-label {
            font-size: 0.85rem;
            color: #666;
            margin-bottom: 5px;
        }
        
        .stat-value {
            font-size: 1.5rem;
            font-weight: bold;
        }
        
        .original {
            color: #333;
        }
        
        .duplicate {
            color: #F87272;
        }
        
        .result {
            color: #36D399;
        }
        
        .instructions {
            line-height: 1.6;
        }
        
        .instructions h3 {
            margin: 15px 0 8px;
            color: #444;
        }
        
        .instructions pre {
            background-color: #f9f9f9;
            padding: 10px;
            border-radius: 4px;
            font-size: 0.9rem;
            overflow-x: auto;
            margin: 10px 0;
        }
        
        .instructions ol, .instructions ul {
            margin-left: 20px;
            margin-bottom: 10px;
        }
        
        footer {
            background-color: #333;
            color: #aaa;
            padding: 20px;
            margin-top: 40px;
        }
        
        .footer-container {
            max-width: 800px;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }
        
        .footer-links {
            display: flex;
            gap: 15px;
        }
        
        .footer-links a {
            color: #aaa;
            text-decoration: none;
            font-size: 1.2rem;
        }
        
        .footer-links a:hover {
            color: white;
        }
        
        .relative {
            position: relative;
        }
        
        .absolute {
            position: absolute;
            bottom: 10px;
            right: 10px;
        }
        
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <!-- ÂØºËà™Ê†è -->
    <header>
        <div class="header-container">
            <div class="logo">
                <span>üîÑ</span>
                <h1>ÂæÆ‰ø°Êé•ÈæôÂéªÈáçÂàÜÁ±ªÂ∑•ÂÖ∑</h1>
            </div>
            <nav>
                <ul>
                    <li><a href="#">È¶ñÈ°µ</a></li>
                    <li><a href="#">‰ΩøÁî®ËØ¥Êòé</a></li>
                    <li><a href="#">ÂÖ≥‰∫é</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- ‰∏ªË¶ÅÂÜÖÂÆπÂå∫ -->
    <main>
        <section class="card">
            <h2>üìÑ ÊñáÊú¨Â§ÑÁêÜ</h2>
            
            <!-- ÂàÜÁ±ªÈÄâÈ°π -->
            <div class="classification-options">
                <label>ÊåâÂú∫Êï∞ÂàÜÁ±ªÔºö</label>
                <select id="classificationSelect">
                    <option value="1" selected>Êåâ 1 Âú∫ÂàÜÁ±ª</option>
                    <option value="2">Êåâ 2 Âú∫ÂàÜÁ±ª</option>
                    <option value="all">‰∏çÂàÜÁ±ªÔºàÂÖ®ÈÉ®ÊòæÁ§∫Ôºâ</option>
                </select>
            </div>
            
            <!-- Êñá‰ª∂‰∏ä‰º†Âå∫Âüü -->
            <div class="file-upload">
                <label for="fileInput">ÈÄâÊã©Êñá‰ª∂</label>
                <div class="drop-area" id="dropArea">
                    <div class="upload-icon">üìÇ</div>
                    <div class="upload-text">
                        <span class="upload-btn" onclick="document.getElementById('fileInput').click()">‰∏ä‰º†Êñá‰ª∂</span>
                        ÊàñÊãñÊãΩÊñá‰ª∂Âà∞Ê≠§Â§Ñ
                    </div>
                    <p class="file-info" id="fileInfo">
                        ÊîØÊåÅ TXT Êñá‰ª∂ (ÊúÄÂ§ß 10MB)
                    </p>
                    <input id="fileInput" name="file" type="file" class="hidden" accept=".txt">
                </div>
            </div>
            
            <!-- ÊñáÊú¨ËæìÂÖ•Âå∫Âüü -->
            <div class="text-input-area">
                <label for="textInput">ÊàñËÄÖÁõ¥Êé•ËæìÂÖ•ÊñáÊú¨</label>
                <div class="relative">
                    <textarea id="textInput" class="input-text" placeholder="ËØ∑ËæìÂÖ•ÈúÄË¶ÅÂ§ÑÁêÜÁöÑÊñáÊú¨..."></textarea>
                    <div class="absolute char-count">
                        <span id="charCount">0</span> Â≠óÁ¨¶
                    </div>
                </div>
            </div>
            
            <!-- Â§ÑÁêÜÊåâÈíÆ -->
            <div class="btn-group">
                <button id="processBtn" class="process-btn">
                    <span>‚ú®</span> Â§ÑÁêÜÊñáÊú¨
                </button>
                <button id="clearBtn" class="clear-btn">
                    <span>üóëÔ∏è</span> Ê∏ÖÁ©∫
                </button>
                <button id="copyBtn" class="copy-btn">
                    <span>üìã</span> Â§çÂà∂ÁªìÊûú
                </button>
            </div>
            
            <!-- Â§ÑÁêÜÁªìÊûúÂå∫Âüü -->
            <div class="text-input-area">
                <label for="resultOutput">Â§ÑÁêÜÁªìÊûúÔºà‰ªÖÊòæÁ§∫ÂêçÂ≠óÔºâ</label>
                <div class="relative">
                    <textarea id="resultOutput" class="input-text" placeholder="Â§ÑÁêÜÁªìÊûúÂ∞ÜÊòæÁ§∫Âú®ËøôÈáå..." readonly></textarea>
                    <div class="absolute char-count">
                        <span id="resultCount">0</span> Â≠óÁ¨¶
                    </div>
                </div>
            </div>
            
            <!-- ÁªüËÆ°‰ø°ÊÅØ -->
            <div class="stats">
                <div class="stat-item">
                    <p class="stat-label">ÂéüÂßãË°åÊï∞</p>
                    <p id="originalCount" class="stat-value original">0</p>
                </div>
                <div class="stat-item">
                    <p class="stat-label">ÈáçÂ§çË°åÊï∞</p>
                    <p id="duplicateCount" class="stat-value duplicate">0</p>
                </div>
                <div class="stat-item">
                    <p class="stat-label">Â§ÑÁêÜÂêéË°åÊï∞</p>
                    <p id="resultLineCount" class="stat-value result">0</p>
                </div>
            </div>
        </section>
        
        <!-- ‰ΩøÁî®ËØ¥Êòé -->
        <section class="card instructions">
            <h2>‚ÑπÔ∏è ‰ΩøÁî®ËØ¥Êòé</h2>
            <div>
                <p>ÈíàÂØπÂæÆ‰ø°Êé•ÈæôÊ†ºÂºèÊñáÊú¨ËøõË°åÁ≤æÂáÜÂéªÈáçÂíåÊåâÂú∫Êï∞Ôºà1/2ÔºâÂàÜÁ±ªÔºå‰ºòÂåñ‰∫ÜÁâπÊÆäÊ†ºÂºèËØÜÂà´„ÄÇ</p>
                <h3>ÊîØÊåÅÁöÑÊñáÊú¨Ê†ºÂºèÔºö</h3>
                <pre>1. ÈíüÊÖß 2      ‰∏çüïäÔ∏è
2. üç°‰∏∏Â≠ê 1 ‰∏çüïäÔ∏è
3. ÊòéÂ§©ÂêÉ‰ªÄ‰πà1
4. ÁúüÁªò
5. Â∞èÊù® ‰∏ç1Âú∫üïäÔ∏è</pre>
                <h3>Â§ÑÁêÜËßÑÂàôÔºö</h3>
                <ul>
                    <li>Á≤æÂáÜËØÜÂà´ÈáçÂ§çÈ°πÔºöÁõ∏ÂêåÂêçÂ≠ó+Áõ∏ÂêåÂú∫Êï∞ËßÜ‰∏∫ÈáçÂ§çÔºàÂøΩÁï•Áä∂ÊÄÅÁ¨¶Âè∑Â∑ÆÂºÇÔºâ</li>
                    <li>Êô∫ËÉΩÊèêÂèñÂú∫Êï∞Ôºö‰ºòÂÖàËØÜÂà´Áã¨Á´ãÊï∞Â≠óÔºåÊéíÈô§"‰∏ç1Âú∫"Á≠âÂπ≤Êâ∞È°π</li>
                    <li>Êó†ÊòéÁ°ÆÂú∫Êï∞Êó∂ÔºöÈªòËÆ§Êåâ1Âú∫Â§ÑÁêÜÔºàÁ∫ØÂêçÂ≠óÈ°πÔºâ</li>
                    <li>ÂàÜÁ±ªÂêé‰ªÖ‰øùÁïôÂêçÂ≠óÔºåÂéªÈô§Âú∫Êï∞ÂíåÁä∂ÊÄÅ‰ø°ÊÅØ</li>
                </ul>
            </div>
        </section>
    </main>

    <!-- È°µËÑö -->
    <footer>
        <div class="footer-container">
            <div>
                <p>¬© 2025 ÂæÆ‰ø°Êé•ÈæôÂéªÈáçÂàÜÁ±ªÂ∑•ÂÖ∑. ‰øùÁïôÊâÄÊúâÊùÉÂà©.</p>
            </div>
            <div class="footer-links">
                <a href="#">üêô</a>
                <a href="#">üê¶</a>
                <a href="#">üîó</a>
            </div>
        </div>
    </footer>

    <script>
        // ÊñáÊú¨Â§ÑÁêÜÂáΩÊï∞ - ÈíàÂØπÁî®Êà∑Êèê‰æõÁöÑÊï∞ÊçÆ‰ºòÂåñÁâàÊú¨
        function processText(txtStr) {
            // Ëé∑ÂèñÂàÜÁ±ªÈÄâÈ°π
            const classification = document.getElementById('classificationSelect').value;
            
            // ÊèêÂèñÊØèË°åÊï∞ÊçÆÂπ∂Ëß£ÊûêÔºà‰øùÁïôÊâÄÊúâÂ≠óÁ¨¶Ôºâ
            const lines = txtStr.split('\n').filter(line => line.trim() !== ''); // ËøáÊª§Á©∫Ë°å
            const parsedData = [];
            
            lines.forEach(line => {
                // ÁßªÈô§Ë°åÈ¶ñÂ∫èÂè∑
                const lineWithoutNumber = line.replace(/^\s*\d+\.\s*/, '').trim();
                
                // ÂÖ≥ÈîÆÊîπËøõÔºöÊõ¥Êô∫ËÉΩÁöÑÂú∫Êï∞ÊèêÂèñÈÄªËæë
                let name = lineWithoutNumber;
                let number = 1; // ÈªòËÆ§1Âú∫
                
                // Ê®°Âºè1ÔºöÂåπÈÖçÊòéÊòæÁöÑÂú∫Êï∞ÔºàÂâçÂêéÊúâÁ©∫Ê†ºÁöÑÊï∞Â≠ó1Êàñ2Ôºâ
                const spaceNumberMatch = lineWithoutNumber.match(/(\s+)(1|2)(\s+)/);
                if (spaceNumberMatch) {
                    number = parseInt(spaceNumberMatch[2]);
                    // ÊèêÂèñÂêçÂ≠óÔºàÂéªÈô§Âú∫Êï∞ÈÉ®ÂàÜÔºâ
                    name = lineWithoutNumber.replace(spaceNumberMatch[2], '').trim()
                        .replace(/\s+/g, ' '); // ÂêàÂπ∂Â§ö‰∏™Á©∫Ê†º
                } 
                // Ê®°Âºè2ÔºöÂåπÈÖçË°åÂ∞æÁöÑÂú∫Êï∞ÔºàÂ¶Ç"xxx1"Êàñ"xxx 1"Ôºâ
                else if (lineWithoutNumber.match(/(1|2)$/)) {
                    const endNumberMatch = lineWithoutNumber.match(/(1|2)$/);
                    if (endNumberMatch) {
                        number = parseInt(endNumberMatch[1]);
                        name = lineWithoutNumber.replace(endNumberMatch[1], '').trim()
                            .replace(/\s+/g, ' ');
                    }
                }
                // Ê®°Âºè3ÔºöÊéíÈô§Âπ≤Êâ∞È°πÔºàÂ¶Ç"‰∏ç1Âú∫"‰∏≠ÁöÑ1‰∏çÂ∫îËßÜ‰∏∫Âú∫Êï∞Ôºâ
                else if (lineWithoutNumber.match(/‰∏ç\d+Âú∫/)) {
                    // ÂåÖÂê´"‰∏çXÂú∫"Ê†ºÂºèÊó∂ÔºåÂøΩÁï•ËØ•Êï∞Â≠ó
                    name = lineWithoutNumber.replace(/‰∏ç\d+Âú∫/, '‰∏çÂú∫').trim()
                        .replace(/\s+/g, ' ');
                    number = 1; // ËøôÁßçÊÉÖÂÜµÈªòËÆ§1Âú∫
                }
                
                // Â§ÑÁêÜÁâπÊÆäÂ≠óÁ¨¶ÂíåÁ©∫Ê†º
                name = name.replace(/\s+/g, ' ').trim();
                
                parsedData.push({
                    originalLine: line,
                    name: name,
                    number: number
                });
            });
            
            // ÊîπËøõÁöÑÂéªÈáçÈÄªËæëÔºöÂü∫‰∫éÂêçÂ≠óÔºàÊ†áÂáÜÂåñÂ§ÑÁêÜÔºâÂíåÂú∫Êï∞
            const uniqueData = [];
            const seen = new Set();
            
            parsedData.forEach(item => {
                // ÂêçÂ≠óÊ†áÂáÜÂåñÔºöÂéªÈô§ÊâÄÊúâÁâπÊÆäÁ¨¶Âè∑ÂíåÁä∂ÊÄÅÊ†áËØÜÔºå‰ªÖ‰øùÁïôÊ†∏ÂøÉÂêçÂ≠ó
                const normalizedName = item.name
                    .replace(/[‰∏çüïäÔ∏èüê¶È∏Ω*ÔΩû\[\]()'‚Äô‚Äú‚Äùüí§üß∏üç•üç°üêüüêØüêºüë∫üç™ü•ïüêëüß±üçÄ]/g, '')
                    .replace(/\s+/g, ' ')
                    .trim()
                    .toLowerCase(); // ÂøΩÁï•Â§ßÂ∞èÂÜô
                
                // ÂéªÈáçÈîÆÔºöÊ†áÂáÜÂåñÂêçÂ≠ó + Âú∫Êï∞ÔºàËß£ÂÜ≥"ÁúüÁªò"Âíå"ÁúüÁªò 1‰∏çüïä"ÁöÑÂéªÈáçÈóÆÈ¢òÔºâ
                const key = `${normalizedName}-${item.number}`;
                
                // ÁâπÊÆäÊÉÖÂÜµÂ§ÑÁêÜÔºöÁ©∫ÂêçÂ≠óÔºàÂ¶Ç"1 ‰∏çüïäÔ∏è"Ôºâ
                const finalName = item.name || `[ÂåøÂêç-${item.number}]`;
                
                if (!seen.has(key)) {
                    seen.add(key);
                    uniqueData.push({
                        ...item,
                        name: finalName // ‰øùÁïôÂéüÂßãÂêçÂ≠óÊòæÁ§∫
                    });
                }
            });
            
            // ÊåâÈÄâÊã©ÁöÑÂú∫Êï∞ÂàÜÁ±ª
            let filteredData = uniqueData;
            if (classification === '1' || classification === '2') {
                filteredData = uniqueData.filter(item => item.number === parseInt(classification));
            }
            
            // ÁîüÊàêÁªìÊûúÔºöÂè™‰øùÁïôÂêçÂ≠ó
            let result = '';
            filteredData.forEach((item, index) => {
                result += `${index + 1}. ${item.name}\n`;
            });
            
            // Êõ¥Êñ∞ÁªüËÆ°‰ø°ÊÅØ
            document.getElementById('originalCount').textContent = lines.length;
            document.getElementById('duplicateCount').textContent = lines.length - uniqueData.length;
            document.getElementById('resultLineCount').textContent = filteredData.length;
            
            return result.trim();
        }

        // DOMÂÖÉÁ¥†
        const fileInput = document.getElementById('fileInput');
        const textInput = document.getElementById('textInput');
        const resultOutput = document.getElementById('resultOutput');
        const processBtn = document.getElementById('processBtn');
        const clearBtn = document.getElementById('clearBtn');
        const copyBtn = document.getElementById('copyBtn');
        const charCount = document.getElementById('charCount');
        const resultCount = document.getElementById('resultCount');
        const fileInfo = document.getElementById('fileInfo');
        const dropArea = document.getElementById('dropArea');
        const classificationSelect = document.getElementById('classificationSelect');

        // ÂàÜÁ±ªÈÄâÈ°πÂèòÂåñÊó∂ÈáçÊñ∞Â§ÑÁêÜÊñáÊú¨
        classificationSelect.addEventListener('change', () => {
            if (textInput.value.trim()) {
                const result = processText(textInput.value.trim());
                resultOutput.value = result;
                resultCount.textContent = result.length;
            }
        });

        // Êõ¥Êñ∞Â≠óÁ¨¶ËÆ°Êï∞
        textInput.addEventListener('input', () => {
            charCount.textContent = textInput.value.length;
        });

        // Â§ÑÁêÜÊñá‰ª∂‰∏ä‰º†
        fileInput.addEventListener('change', (e) => {
            const file = e.target.files[0];
            if (file) {
                if (file.size > 10 * 1024 * 1024) {
                    alert('Êñá‰ª∂Â§ßÂ∞èË∂ÖËøá10MBÔºåËØ∑ÈÄâÊã©ËæÉÂ∞èÁöÑÊñá‰ª∂„ÄÇ');
                    fileInput.value = '';
                    return;
                }
                
                if (!file.name.endsWith('.txt')) {
                    alert('ËØ∑‰∏ä‰º†TXTÊ†ºÂºèÁöÑÊñá‰ª∂„ÄÇ');
                    fileInput.value = '';
                    return;
                }
                
                const reader = new FileReader();
                reader.onload = (event) => {
                    textInput.value = event.target.result;
                    charCount.textContent = textInput.value.length;
                    fileInfo.textContent = `Â∑≤ÈÄâÊã©: ${file.name}`;
                };
                reader.readAsText(file, 'UTF-8');
            }
        });

        // Â§ÑÁêÜÊñáÊú¨ÊåâÈíÆÁÇπÂáª‰∫ã‰ª∂
        processBtn.addEventListener('click', () => {
            const inputText = textInput.value.trim();
            if (!inputText) {
                alert('ËØ∑ËæìÂÖ•ÊñáÊú¨Êàñ‰∏ä‰º†Êñá‰ª∂');
                return;
            }
            
            const result = processText(inputText);
            resultOutput.value = result;
            resultCount.textContent = result.length;
            
            // Âä®ÁîªÊïàÊûú
            resultOutput.style.borderColor = '#36D399';
            resultOutput.style.boxShadow = '0 0 0 2px rgba(54, 211, 153, 0.2)';
            setTimeout(() => {
                resultOutput.style.borderColor = '#ddd';
                resultOutput.style.boxShadow = 'none';
            }, 1000);
        });

        // Ê∏ÖÁ©∫ÊåâÈíÆÁÇπÂáª‰∫ã‰ª∂
        clearBtn.addEventListener('click', () => {
            textInput.value = '';
            resultOutput.value = '';
            charCount.textContent = '0';
            resultCount.textContent = '0';
            fileInput.value = '';
            fileInfo.textContent = 'ÊîØÊåÅ TXT Êñá‰ª∂ (ÊúÄÂ§ß 10MB)';
            
            // ÈáçÁΩÆÁªüËÆ°‰ø°ÊÅØ
            document.getElementById('originalCount').textContent = '0';
            document.getElementById('duplicateCount').textContent = '0';
            document.getElementById('resultLineCount').textContent = '0';
        });

        // Â§çÂà∂ÁªìÊûúÊåâÈíÆÁÇπÂáª‰∫ã‰ª∂
        copyBtn.addEventListener('click', () => {
            const resultText = resultOutput.value;
            if (!resultText) {
                alert('Ê≤°ÊúâÂèØÂ§çÂà∂ÁöÑÁªìÊûú');
                return;
            }
            
            navigator.clipboard.writeText(resultText).then(() => {
                const originalText = copyBtn.innerHTML;
                copyBtn.innerHTML = '<span>‚úì</span> Â∑≤Â§çÂà∂';
                copyBtn.style.backgroundColor = '#2CB887';
                
                setTimeout(() => {
                    copyBtn.innerHTML = originalText;
                    copyBtn.style.backgroundColor = '';
                }, 2000);
            }).catch(err => {
                console.error('Êó†Ê≥ïÂ§çÂà∂ÊñáÊú¨: ', err);
                alert('Â§çÂà∂Â§±Ë¥•ÔºåËØ∑ÊâãÂä®Â§çÂà∂');
            });
        });

        // ÊãñÊîæÂäüËÉΩ
        ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
            dropArea.addEventListener(eventName, preventDefaults, false);
        });
        
        function preventDefaults(e) {
            e.preventDefault();
            e.stopPropagation();
        }
        
        ['dragenter', 'dragover'].forEach(eventName => {
            dropArea.addEventListener(eventName, highlight, false);
        });
        
        ['dragleave', 'drop'].forEach(eventName => {
            dropArea.addEventListener(eventName, unhighlight, false);
        });
        
        function highlight() {
            dropArea.style.borderColor = '#165DFF';
            dropArea.style.backgroundColor = '#f0f7ff';
        }
        
        function unhighlight() {
            dropArea.style.borderColor = '#ddd';
            dropArea.style.backgroundColor = '';
        }
        
        dropArea.addEventListener('drop', handleDrop, false);
        
        function handleDrop(e) {
            const dt = e.dataTransfer;
            const file = dt.files[0];
            
            if (file) {
                if (file.size > 10 * 1024 * 1024) {
                    alert('Êñá‰ª∂Â§ßÂ∞èË∂ÖËøá10MBÔºåËØ∑ÈÄâÊã©ËæÉÂ∞èÁöÑÊñá‰ª∂„ÄÇ');
                    return;
                }
                
                if (!file.name.endsWith('.txt')) {
                    alert('ËØ∑‰∏ä‰º†TXTÊ†ºÂºèÁöÑÊñá‰ª∂„ÄÇ');
                    return;
                }
                
                const reader = new FileReader();
                reader.onload = (event) => {
                    textInput.value = event.target.result;
                    charCount.textContent = textInput.value.length;
                    fileInfo.textContent = `Â∑≤ÈÄâÊã©: ${file.name}`;
                    fileInput.files = dt.files;
                };
                reader.readAsText(file, 'UTF-8');
            }
        }

        // ÂØºËà™Ê†èÊªöÂä®ÊïàÊûú
        window.addEventListener('scroll', () => {
            const header = document.querySelector('header');
            if (window.scrollY > 10) {
                header.style.padding = '10px 20px';
            } else {
                header.style.padding = '15px 20px';
            }
        });
    </script>
</body>
</html>
    
